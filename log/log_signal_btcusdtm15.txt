2025-06-11 18:43:24,118 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-11 18:43:38,162 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-11 18:43:38,163 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-11 18:43:38,165 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-11 18:43:38,165 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-11 18:43:38,166 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: module 'MetaTrader5' has no attribute 'is_connected'
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 190, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 85, in _get_current_ohlc
    if not self._initialize_mt5():
           ~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 65, in _initialize_mt5
    if not self.mt5_initialized or not mt5.is_connected():
                                       ^^^^^^^^^^^^^^^^
AttributeError: module 'MetaTrader5' has no attribute 'is_connected'
2025-06-11 18:46:38,169 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-11 18:46:38,170 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: module 'MetaTrader5' has no attribute 'is_connected'
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 190, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 85, in _get_current_ohlc
    if not self._initialize_mt5():
           ~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 65, in _initialize_mt5
    if not self.mt5_initialized or not mt5.is_connected():
                                       ^^^^^^^^^^^^^^^^
AttributeError: module 'MetaTrader5' has no attribute 'is_connected'
2025-06-11 18:49:38,171 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-11 18:49:38,172 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: module 'MetaTrader5' has no attribute 'is_connected'
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 190, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 85, in _get_current_ohlc
    if not self._initialize_mt5():
           ~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 65, in _initialize_mt5
    if not self.mt5_initialized or not mt5.is_connected():
                                       ^^^^^^^^^^^^^^^^
AttributeError: module 'MetaTrader5' has no attribute 'is_connected'
2025-06-11 18:54:29,466 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-11 18:54:43,518 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-11 18:54:43,520 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-11 18:54:43,522 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-11 18:54:43,523 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-11 18:54:43,562 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: generate_signal() got an unexpected keyword argument 'logic'
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 177, in _run
    signal_info = generate_signal(df, mode="realtime", logic=DEFAULT_LOGIC) # modeとlogicを渡す
TypeError: generate_signal() got an unexpected keyword argument 'logic'
2025-06-11 18:57:43,563 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-11 18:57:43,566 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: generate_signal() got an unexpected keyword argument 'logic'
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 177, in _run
    signal_info = generate_signal(df, mode="realtime", logic=DEFAULT_LOGIC) # modeとlogicを渡す
TypeError: generate_signal() got an unexpected keyword argument 'logic'
2025-06-12 00:09:30,908 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-12 00:09:45,000 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-12 00:09:45,003 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-12 00:09:45,004 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-12 00:09:45,004 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:09:45,040 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:09:45,042 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:09:45,042 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:10:15,491 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-12 00:10:29,530 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-12 00:10:29,532 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-12 00:10:29,533 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-12 00:10:29,536 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:10:29,579 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:10:29,580 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:10:29,580 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:11:00,900 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-12 00:11:02,795 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-12 00:11:14,930 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-12 00:11:14,931 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-12 00:11:14,931 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-12 00:11:14,931 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:11:14,955 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:11:14,956 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:11:14,956 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:11:16,834 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-12 00:11:16,837 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-12 00:11:16,838 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-12 00:11:16,839 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:11:16,880 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:11:16,880 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:11:16,881 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:12:45,043 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:12:45,083 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:12:45,083 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:12:45,083 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:13:29,582 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:13:29,630 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:13:29,630 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:13:29,632 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:14:14,958 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:14:14,983 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:14:14,984 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:14:14,985 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:14:16,883 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:14:16,908 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:14:16,908 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:14:16,908 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
    image_url=uploaded_image_url # ImgurのURLを保存
              ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:15:45,085 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:15:45,131 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:15:45,132 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:15:45,132 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:16:29,633 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:16:29,656 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:16:29,657 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:16:29,657 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:17:14,986 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:17:15,015 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:17:15,015 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:17:15,015 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:17:16,909 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:17:16,939 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:17:16,939 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:17:16,940 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:18:45,135 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:18:45,185 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:18:45,185 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:18:45,186 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:20:15,017 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:20:15,095 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:20:15,097 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:20:15,097 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:20:16,940 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:20:16,970 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:20:16,972 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:20:16,974 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:21:45,188 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:21:45,246 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:21:45,247 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:21:45,248 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:23:15,099 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:23:15,124 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:23:15,125 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:23:15,126 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:23:16,975 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:23:17,009 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:23:17,009 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:23:17,009 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:24:45,250 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:24:45,297 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:24:45,297 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:24:45,298 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:26:15,127 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:26:15,189 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:26:15,190 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:26:15,190 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:26:17,011 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:26:17,075 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:26:17,076 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:26:17,076 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:27:45,299 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:27:45,357 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:27:45,358 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:27:45,358 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:29:15,192 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:29:15,255 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:29:15,255 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:29:15,256 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:29:17,079 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:29:17,142 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:29:17,143 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:29:17,143 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:30:45,361 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:30:45,416 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:30:45,417 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:30:45,418 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:32:15,257 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:32:15,285 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:32:15,285 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:32:15,285 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:32:17,145 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:32:17,173 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:32:17,175 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:32:17,175 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:33:45,419 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:33:45,451 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:33:45,451 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:33:45,453 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:35:15,287 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:35:15,316 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:35:15,316 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:35:15,317 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:35:17,177 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:35:17,221 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:35:17,221 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:35:17,222 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:36:45,457 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:36:45,504 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:36:45,505 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:36:45,505 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:38:15,318 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:38:15,337 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:38:15,338 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:38:15,338 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:38:17,223 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:38:17,243 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:38:17,244 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:38:17,244 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:39:45,506 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:39:45,532 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:39:45,532 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:39:45,533 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:41:15,341 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:41:15,424 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:41:15,424 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:41:15,424 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:41:17,254 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:41:17,360 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:41:17,361 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:41:17,361 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:42:45,534 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:42:45,650 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:42:45,654 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:42:45,654 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:44:15,431 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:44:15,495 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:44:15,503 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:44:15,506 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:44:17,363 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:44:17,444 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:44:17,444 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:44:17,445 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:45:45,656 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:45:45,703 - INFO - BTCUSDT-M15 シグナル判定結果: No signal
2025-06-12 00:45:45,704 - INFO - BTCUSDT-M15: シグナルなし。
2025-06-12 00:45:45,704 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: cannot access local variable 'uploaded_image_url' where it is not associated with a value
Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 230, in _run
UnboundLocalError: cannot access local variable 'uploaded_image_url' where it is not associated with a value
2025-06-12 00:47:15,507 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:47:15,529 - INFO - BTCUSDT-M15 シグナル判定結果: Balanced Buy Signal (Confluence: MACD Golden Cross, Stochastic Golden Cross)
2025-06-12 00:47:15,529 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: 'SignalRunner' object has no attribute '_generate_chart_and_upload'
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 199, in _run
    # シグナルが出た場合、LINE通知とチャート画像生成・アップロード
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignalRunner' object has no attribute '_generate_chart_and_upload'
2025-06-12 00:47:17,446 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 00:47:17,496 - INFO - BTCUSDT-M15 シグナル判定結果: Balanced Buy Signal (Confluence: MACD Golden Cross, Stochastic Golden Cross)
2025-06-12 00:47:17,497 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: 'SignalRunner' object has no attribute '_generate_chart_and_upload'
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 199, in _run
    # シグナルが出た場合、LINE通知とチャート画像生成・アップロード
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignalRunner' object has no attribute '_generate_chart_and_upload'
2025-06-12 10:40:26,318 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-12 10:40:40,376 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-12 10:40:40,379 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-12 10:40:40,381 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-12 10:40:40,382 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-12 10:40:40,454 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: 'MACD_Signal'
Traceback (most recent call last):
  File "C:\Users\pc\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'MACD_Signal'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 196, in _run
    signal_info = generate_signal(df, mode="realtime", logic=DEFAULT_LOGIC) # modeとlogicを渡す
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_generator.py", line 71, in generate_signal
    signal_info = _generate_balanced_signal(df_ind, current_price)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_generator.py", line 192, in _generate_balanced_signal
    macd_buy = (df_ind['MACD'].iloc[-1] > df_ind['MACD_Signal'].iloc[-1]) # MACDゴールデンクロス
                                          ~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\pc\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4107, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'MACD_Signal'
2025-06-13 01:18:32,305 - INFO - ✅ BTCUSDT-M15 シグナルランナーが初期化されました。
2025-06-13 01:18:46,353 - INFO - BTCUSDT-M15 シグナル監視ループを開始します。
2025-06-13 01:18:46,356 - INFO - BTCUSDT: MT5クライアントを初期化しています...
2025-06-13 01:18:46,360 - INFO - ✅ BTCUSDT: MT5クライアントの初期化に成功しました。
2025-06-13 01:18:46,362 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-13 01:18:46,371 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: Cannot convert tz-naive timestamps, use tz_localize to localize
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 192, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 116, in _get_current_ohlc
    df.index = df.index.tz_convert('Asia/Tokyo') # チャート描画時などのため
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 283, in tz_convert
    arr = self._data.tz_convert(tz)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\arrays\datetimes.py", line 917, in tz_convert
    raise TypeError(
TypeError: Cannot convert tz-naive timestamps, use tz_localize to localize
2025-06-13 01:21:46,373 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-13 01:21:46,384 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: Cannot convert tz-naive timestamps, use tz_localize to localize
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 192, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 116, in _get_current_ohlc
    df.index = df.index.tz_convert('Asia/Tokyo') # チャート描画時などのため
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 283, in tz_convert
    arr = self._data.tz_convert(tz)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\arrays\datetimes.py", line 917, in tz_convert
    raise TypeError(
TypeError: Cannot convert tz-naive timestamps, use tz_localize to localize
2025-06-13 01:24:46,388 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-13 01:24:46,391 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: Cannot convert tz-naive timestamps, use tz_localize to localize
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 192, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 116, in _get_current_ohlc
    df.index = df.index.tz_convert('Asia/Tokyo') # チャート描画時などのため
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 283, in tz_convert
    arr = self._data.tz_convert(tz)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\arrays\datetimes.py", line 917, in tz_convert
    raise TypeError(
TypeError: Cannot convert tz-naive timestamps, use tz_localize to localize
2025-06-13 01:27:46,393 - INFO - BTCUSDT: 新しい足 (M15) が形成されました。データ取得とシグナル判定を実行します。
2025-06-13 01:27:46,398 - ERROR - BTCUSDT: シグナル監視ループで予期せぬエラーが発生しました: Cannot convert tz-naive timestamps, use tz_localize to localize
Traceback (most recent call last):
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 192, in _run
    df, latest_time_tokyo = self._get_current_ohlc()
                            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\signal_runner_loop.py", line 116, in _get_current_ohlc
    df.index = df.index.tz_convert('Asia/Tokyo') # チャート描画時などのため
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\indexes\datetimes.py", line 283, in tz_convert
    arr = self._data.tz_convert(tz)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pc\OneDrive\Desktop\phantom_alert_bot\venv\Lib\site-packages\pandas\core\arrays\datetimes.py", line 917, in tz_convert
    raise TypeError(
TypeError: Cannot convert tz-naive timestamps, use tz_localize to localize
